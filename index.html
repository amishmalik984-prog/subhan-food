<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subhan Food | E-commerce Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap');
        .urdu { font-family: 'Noto Nastaliq Urdu', serif; }
        body { background: #fdfcf0; color: #1a1a1a; }
        .product-card { transition: 0.3s; border: 2px solid transparent; cursor: pointer; }
        .product-card.selected { border-color: #b91c1c; background: #fff1f2; transform: scale(1.05); }
        .cart-badge { background: #b91c1c; color: white; padding: 2px 8px; border-radius: 99px; }
    </style>
</head>
<body class="pb-20">

    <header class="bg-red-800 text-white p-6 shadow-xl text-center border-b-4 border-yellow-500 sticky top-0 z-50">
        <h1 class="text-3xl font-black">SUBHAN FOODS</h1>
        <p class="urdu text-sm mt-1">ساہیوال کے خالص مصالحہ جات</p>
    </header>

    <div class="max-w-5xl mx-auto px-4 mt-8">
        
        <div class="flex justify-between items-center mb-6">
            <h2 class="urdu text-2xl font-bold text-red-800">1. آئٹمز منتخب کریں</h2>
            <div class="urdu text-sm">منتخب شدہ: <span id="cart-count" class="cart-badge">0</span></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12" id="grid">
            </div>

        <div class="bg-white rounded-3xl shadow-2xl p-6 md:p-10 border-2 border-red-800">
            <h2 class="urdu text-2xl font-bold text-center text-red-800 mb-8">2. آرڈر مکمل کریں</h2>
            
            <form id="order-form" class="space-y-4">
                <input type="hidden" id="selected_items" name="selected_items">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="urdu block mb-1">نام (Full Name)</label>
                        <input type="text" id="from_name" name="from_name" required class="w-full border-2 rounded-xl p-3 bg-gray-50 focus:border-red-600 outline-none">
                    </div>
                    <div>
                        <label class="urdu block mb-1">فون نمبر (Phone)</label>
                        <input type="number" id="phone" name="phone" required class="w-full border-2 rounded-xl p-3 bg-gray-50 focus:border-red-600 outline-none">
                    </div>
                </div>

                <div>
                    <label class="urdu block mb-1">پتہ (Address)</label>
                    <textarea id="address" name="address" required class="w-full border-2 rounded-xl p-3 bg-gray-50 focus:border-red-600 outline-none" rows="3"></textarea>
                </div>

                <div class="bg-red-50 p-4 rounded-xl">
                    <p class="urdu font-bold text-red-800 mb-2">آپ کے منتخب کردہ آئٹمز:</p>
                    <div id="display-items" class="text-sm font-bold text-gray-700">کچھ بھی منتخب نہیں کیا گیا</div>
                </div>

                <button type="submit" class="w-full bg-red-700 hover:bg-red-800 text-white font-black py-4 rounded-2xl shadow-lg text-xl transition active:scale-95">
                    CONFIRM ORDER (آرڈر بھیجیں)
                </button>
            </form>
        </div>
    </div>

    <div class="max-w-5xl mx-auto mt-20 px-4">
        <h3 class="urdu text-center text-xl font-bold mb-4">آرڈرز کی لائیو لسٹ</h3>
        <div class="rounded-2xl overflow-hidden border-2 border-gray-300 h-[400px]">
            <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQEQ8g0KPj2cS_xhkEXRaDXYrfpnQ4kXk3RHeJrsfdchJtxh1et5DFNXT7MOnsbwh4OqWlipS_Jv6Hn/pubhtml?widget=true&amp;headers=false" width="100%" height="100%"></iframe>
        </div>
    </div>

    <script>
        const products = [
            { id: 1, name: "سرخ مرچ پاؤڈر", img: "https://images.unsplash.com/photo-1615485290382-441e4d019cb5?w=200" },
            { id: 2, name: "ہلدی پاؤڈر", img: "https://images.unsplash.com/photo-1599940824399-b87987ceb72a?w=200" },
            { id: 3, name: "کالی مرچ", img: "https://images.unsplash.com/photo-1532336414038-cf1905044314?w=200" },
            { id: 4, name: "گرم مصالحہ", img: "https://images.unsplash.com/photo-1615485500704-8e990f9900f7?w=200" },
            { id: 5, name: "دھنیا پاؤڈر", img: "https://images.unsplash.com/photo-1591524311059-399d34346894?w=200" },
            { id: 6, name: "زیرہ سفید", img: "https://images.unsplash.com/photo-1506368249639-73a05d6f6488?w=200" },
            { id: 7, name: "سبز الائچی", img: "https://images.unsplash.com/photo-1626131713360-1768469e32a6?w=200" },
            { id: 8, name: "قصوری میتھی", img: "https://images.unsplash.com/photo-1512429234300-1c098934df4e?w=200" }
        ];

        let cart = [];

        function initGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = products.map(p => `
                <div onclick="toggleItem(${p.id}, '${p.name}')" id="p-${p.id}" class="product-card bg-white p-4 rounded-2xl shadow-md text-center">
                    <img src="${p.img}" class="h-24 w-full object-cover rounded-xl mb-2">
                    <p class="urdu font-bold text-sm">${p.name}</p>
                </div>
            `).join('');
        }

        function toggleItem(id, name) {
            const index = cart.indexOf(name);
            const el = document.getElementById(`p-${id}`);
            if(index > -1) {
                cart.splice(index, 1);
                el.classList.remove('selected');
            } else {
                cart.push(name);
                el.classList.add('selected');
            }
            document.getElementById('cart-count').innerText = cart.length;
            document.getElementById('display-items').innerText = cart.length > 0 ? cart.join(', ') : "کچھ بھی منتخب نہیں کیا گیا";
            document.getElementById('selected_items').value = cart.join(', ');
        }

        // Email Functionality
        (function() { emailjs.init("YOUR_USER_ID"); })(); // Yahan User ID lagegi

        document.getElementById('order-form').onsubmit = function(e) {
            e.preventDefault();
            if(cart.length === 0) { alert("Pehle masala select karein!"); return; }
            
            alert("Order Submit ho gaya! (Email set karne ke baad aapko mil jayegi)");
            // EmailJS yahan se call hoga
        };

        initGrid();
    </script>
</body>
</html>
